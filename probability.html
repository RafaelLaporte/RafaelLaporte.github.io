<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>SKYLAB - Probabilidade</title>
    <link rel="stylesheet" href="./frontend/css/style.css"> 

    <div class="header">
        <hr class="hr">
        <h1 class="title">SKYLAB</h1>
        <h3 class="subtitle">Statistical System</h3>
        <hr class="hr">
    </div><br>
    
</head>

<body class='body'>
    <div>
        <div>
            <label for='distribution-select'><b class="textTitle">Escolha uma distribuição de probabilidades:</b> </label><br><br>
            <select id='distribution-select' name='distribution-select' class='select'>
                <option selected=""></option>
                <option value="binomial">Binomial</option>
                <option value="gaussian">Gaussiana (Normal)</option>
                <option value="uniform">Uniforme</option>
            </select>
        </div><br><br>
    
        <!-- Binomial distribution Form -->
        <form id='binomial' onsubmit="return btnBinomial()" method="GET" style='display:none'>
            <label for='varSucess'><b class="textTitle">Probabilidade de ocorrência do evento (%):</b></label><br>
            <input required type='number' id='sucess' name='varSucess' size='50px' class="input" placeholder="Número entre 0 e 100"><br><br>
    
            <label for='varSample'><b class="textTitle">Tamanho da amostra:</b></label><br>
            <input required type='number' id='sample' name='varSample' size='50px' class="input" placeholder="Número inteiro positivo"><br><br>
    
            <div>

            </div>
            <div>

                <label for='varOcurrences'><b class="textTitle">Número de ocorrências desejadas:</b></label><br>
                <input required type='number' id='ocurrences' name='varOcurrences' size='50px' class="input" placeholder="Número menor ou igual ao tamanho da amostra" required><br><br>
            </div>

            <button id='btn-binomial' type="submit" class="btn"> Calcular </button><br><br>
        </form>
    
        <!-- Gaussian distribution Form -->
        <form id='gaussian' onsubmit="return btnBinomial()" method="GET" style='display:none'>
        </form>
    
        <!-- Uniform distribution form -->
        <form id='uniform' onsubmit="return btnUniform()" method="GET" style='display:none'>
            <label for='varMin'><b class="textTitle">Entre com o valor mínimo da distribuição:</b></label><br>
            <input required type='number' id='varMin' name='varMin' size='50px' class="input" placeholder="Entre com um número"><br><br>
        
            <label for='varMax'><b class="textTitle">Entre com o valor máximo da distribuição:</b></label><br>
            <input required type='number' id='varMax' name='varMax' size='50px' class="input" placeholder="Entre com um número"><br><br>
            <div>
                <label for='uniformValues-select'><b class="textTitle">Escolha um intervalo:</b> </label><br><br>
                <select id='uniformValues-select' name='uniformValues-select' class='select'>
                    <option selected=""></option>
                    <option value="lessThan">Menor que</option>
                    <option value="higherThan">Maior que</option>
                    <option value="between">Entre</option>
                </select>
            </div><br>
            <div id='uniformValue' method="GET" style='display:none'>
                <label for='varValue'><b class="textTitle">Entre com o valor a ser analisado: </b></label><br>
                <input required type='number' id='varValue' name='varValue' size='50px' class="input" placeholder="Entre com um número"><br><br>
            </div>
            <div id='uniformValues' method="GET" style='display:none'>
                <label for='varValue'><b class="textTitle">Entre com os valores a serem analisados: </b></label><br>
                <input required type='number' id='varValue' name='varValue' size='50px' class="input" placeholder="Entre com um número">
                <input required type='number' id='varValueMax' name='varValueMax' size='50px' class="input" placeholder="Entre com um número"><br>
            </div>
        
            <button id='btn-uniform' type="submit" class="btn" method="GET" style='display:none'> Calcular </button><br><br>
            
        </form>

    
        <p id='result'></p><br><br>
    
        <div id='probability-values' class="probability-values"></div>
    </div>

    <script src='./backend/fatorial.js'></script>
    <script src='./backend/btn/binomial.js'></script>
    <script src='./backend/btn/uniform.js'></script>
    
    <script src='./frontend/probability-elements.js'></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

    
    <script>
        $("#distribution-select").on("change", function() {
            let probabilityValues = document.getElementById('probability-values');
            if (probabilityValues.innerHTML != "") probabilityValues.innerHTML = "";

            let dataType = document.getElementById('distribution-select').value;

            if (dataType == 'binomial') {
                $('#gaussian').trigger('reset');
                $('#uniform').trigger('reset');
                document.getElementById('binomial').style = ''
                document.getElementById('gaussian').style = 'display:none'
                document.getElementById('uniform').style = 'display:none'
            }
            
            if (dataType == 'gaussian') {
                $('#normal').trigger('reset');
                $('#uniform').trigger('reset');
                document.getElementById('binomial').style = 'display:none'
                document.getElementById('gaussian').style = ''
                document.getElementById('uniform').style = 'display:none'
            }

            if (dataType == 'uniform') {
                $('#binomial').trigger('reset');
                $('#gaussian').trigger('reset');
                document.getElementById('binomial').style = 'display:none'
                document.getElementById('gaussian').style = 'display:none'
                document.getElementById('uniform').style = ''
            }

            if (dataType == '') {
                $('#binomial').trigger('reset');
                $('#gaussian').trigger('reset');
                $('#uniform').trigger('reset');
                document.getElementById('binomial').style = 'display:none'
                document.getElementById('gaussian').style = 'display:none'
                document.getElementById('uniform').style = 'display:none'
        }
        })
        $("#uniformValues-select").on("change", function() {

            let dataType = document.getElementById('uniformValues-select').value;

            if(dataType == undefined || dataType == ''){
                document.getElementById('btn-uniform').style = 'display:none'
            } else {
                document.getElementById('btn-uniform').style = ''
            }

            if (dataType == 'lessThan' || dataType == 'higherThan') {
                $('#uniformValues').trigger('reset');
                document.getElementById('uniformValue').style = ''
                document.getElementById('uniformValues').style = 'display:none'
            }

            if (dataType == 'between') {
                $('#uniformValue').trigger('reset');
                document.getElementById('uniformValues').style = ''
                document.getElementById('uniformValue').style = 'display:none'
            }

            if (dataType == '' || dataType == undefined) {
                $('#uniformValues').trigger('reset');
                $('#uniformValue').trigger('reset');
                document.getElementById('uniformValue').style = 'display:none'
                document.getElementById('uniformValues').style = 'display:none'
            }

        })
    </script>

</body>
</html>