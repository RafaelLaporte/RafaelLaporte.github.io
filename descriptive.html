<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Trabalho de estatística</title>
    <style id='style'></style>
    <style> .chart-container {width: 800px; height: 400px} </style>
    <link rel="stylesheet" href="./frontend/css/style.css"> 
</head>

<body>
    <div class="header">
    <hr class="hr">
    <h1 class="title">SKYLAB</h1>
    <h3 class="subtitle">Statistical System</h3>
    <hr class="hr">
    <br>
    <div>
        <div>
            <label for='import-select'><b class="textTitle">Como deseja importar os dados?</b> </label><br><br>
            <select id='import-select' name='import-select' class='select'>
                <option selected=""></option>
                <option value="hand">Manualmente</option>
                <option value="file">Utilizando um arquivo</option>
            </select>
        </div><br><br>

        <form id='file-form' onsubmit="return readFile()" style='display:none'>
            <div>
                <label for='input-file'><b class="textTitle">Selecione um arquivo do tipo .csv.</b></label><br>
                <div class='textTitle'>A primeira entrada deve ser o nome da variável e as demais os valores da mesma.</div>
                <input required type='file' id='input-file' name='input-file' class='input' accept=".csv"> <br>
            </div><br>

            <div>
                <label for='fileScope'><b class="textTitle">Tipo do conjunto de valores: </b> </label><br>
                <input type='radio' id='fileScope' name='fileScope' value="amostra" class="radio"checked> Amostra |
                <input type='radio' id='fileScope' name='fileScope' value="populacao" class="radio"> População
            </div><br>

            <div>
                <label for='fileMeasures'><b class="textTitle">Selecione a medida separatriz: </b> </label><br>
                <select name="fileMeasures" id="fileMeasures" class="select" onchange="populate(this.id, 'filePartMeasure')">
                    <h3>Medida</h3>
                    <option value=""></option>
                    <option value="quartil">Quartil</option>
                    <option value="quintil">Quintil</option>
                    <option value="decil">Decil</option>
                    <option value="percentil">Percentil</option>
                </select><br><br>

                <select name="filePartMeasure" id="filePartMeasure" class="select"></select><br>
            </div><br>

            <button id='btn-file' type="submit" class="btn"> Calcular usando o arquivo </button>
        </form>      


        <form id='hand-form' onsubmit="return btnCalculate()" style='display:none'>
            <div>
                <label for='varName'><b class="textTitle">Nome da variável:</b></label><br>
                <input type='text' id='varName' name='varName' size='80px' class="input" placeholder="Identifique sua variável"><br>
            </div>
         
            <div>
                <label for='varValues'><b class="textTitle">Dados:</b></label><br>
                <input required type='text' id="varValues" name='varValues' size="100px" class="input" placeholder="Os valores devem ser separados por ; (ponto e vírgula)"><br>
            </div><br><br>

            <div>
                <label for='handScope'><b class="textTitle">Tipo do conjunto de valores: </b> </label><br>
                <input type='radio' id='handScope' name='handScope' value="amostra" class="radio"checked> Amostra |
                <input type='radio' id='handScope' name='handScope' value="populacao" class="radio"> População
            </div><br>

            <div>
                <label for='handMeasures'><b class="textTitle">Selecione a medida separatriz: </b> </label><br>
                <select name="handMeasures" id="handMeasures" class="select" onchange="populate(this.id, 'handPartMeasure')">
                    <h3>Medida</h3>
                    <option value=""></option>
                    <option value="quartil">Quartil</option>
                    <option value="quintil">Quintil</option>
                    <option value="decil">Decil</option>
                    <option value="percentil">Percentil</option>
                </select><br><br>

                <select name="handPartMeasure" id="handPartMeasure" class="select"></select><br>
            </div><br>

            <button id='btn-calculate' type="submit" class="btn"> Calcular </button>
        </form>

        <div>
            <p id='explanation' class='textTitle'></p>
        </div>


        <div id='btn-organize'></div><br>

        <table id="results"></table>

        <br><br>

        <div class="chart-container">
            <canvas id="chart"></canvas>
        </div>
        
        <div class="statistical-values">
            <h3 id='mean'></h3><hr class="hr">
            <h3 id='mode'></h3><hr class="hr">
            <h3 id='median'></h3><hr class="hr">
            <h3 id='measure'></h3><hr class="hr">
            <h3 id='standard-deviation'></h3><hr class="hr">    
            <h3 id='variance'></h3><hr class="hr">
        </div>
    </div>

    <script src='./frontend/resetHTML.js'></script>
    <script src='./frontend/chart/chart.js'></script>
    <script src='./frontend/chart/chartOptions.js'></script>
    <script src='./frontend/tables.js'></script>
    <script src='./frontend/populate.js'></script>
    <script src='./frontend/statisticalVariables.js'></script>
    
    <script src='./backend/varType.js'></script>
    <script src='./backend/frequencies.js'></script>
    <script src='./backend/organizeData.js'></script>
    <script src='./backend/quickSort.js'></script>
    <script src='./backend/btn-calculate.js'></script>
    <script src='./backend/btn-organize.js'></script>
    <script src='./backend/inputReader.js'></script>
    <script src='./backend/readTable.js'></script>
    <script src='./backend/statisticalVariables/mean.js'></script>
    <script src='./backend/statisticalVariables/mode.js'></script>
    <script src='./backend/statisticalVariables/median.js'></script>
    <script src='./backend/statisticalVariables/measuresOfPosition.js'></script>
    <script src='./backend/statisticalVariables/standardDeviation.js'></script>
    <script src='./backend/readFile.js'></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script src="https://cdn.jsdelivr.net/gh/emn178/chartjs-plugin-labels/src/chartjs-plugin-labels.js"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/smoothness/jquery-ui.min.css" />

    <script>
        $("#import-select").on("change", function() {
            let table = document.getElementById('results');
            if (table.innerHTML != "") resetHTML();

            let dataType = document.getElementById('import-select').value;

            if (dataType == 'hand') {
                $('#file-form').trigger('reset');
                document.getElementById('hand-form').style = ''
                document.getElementById('file-form').style = 'display:none'
            }
            
            if (dataType == 'file') {
                $('#hand-form').trigger('reset');
                document.getElementById('hand-form').style = 'display:none'
                document.getElementById('file-form').style = ''
            }

            if (dataType == '') {
                $('#file-form').trigger('reset');
                $('#hand-form').trigger('reset');
                document.getElementById('hand-form').style = 'display:none'
                document.getElementById('file-form').style = 'display:none'
            }
        })
    </script>

</body>
</html>
